tablename,cmd,policyname,permissive,roles,already_initplan_safe,qual,with_check
admin_users,SELECT,admin_users_self_select,PERMISSIVE,{public},f,(auth.uid() = user_id),
catch_comments,SELECT,catch_comments_admin_read_all,PERMISSIVE,{public},f,is_admin(auth.uid()),
catch_comments,UPDATE,catch_comments_admin_update,PERMISSIVE,{public},f,is_admin(auth.uid()),is_admin(auth.uid())
catch_comments,INSERT,catch_comments_insert_viewable,PERMISSIVE,{public},f,,"(((user_id = auth.uid()) OR is_admin(auth.uid())) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = catch_comments.catch_id) AND (c.deleted_at IS NULL) AND ((c.user_id = auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND (auth.uid() IS NOT NULL) AND is_following(auth.uid(), c.user_id)) OR is_admin(auth.uid()))))))"
catch_comments,SELECT,catch_comments_public_read,PERMISSIVE,{public},f,"((deleted_at IS NULL) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = catch_comments.catch_id) AND (c.deleted_at IS NULL) AND ((auth.uid() = c.user_id) OR (EXISTS ( SELECT 1
           FROM admin_users au
          WHERE (au.user_id = auth.uid()))) OR ((NOT is_blocked_either_way(auth.uid(), c.user_id)) AND (NOT is_blocked_either_way(auth.uid(), catch_comments.user_id)) AND (((c.visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1
           FROM profiles p
          WHERE ((p.id = c.user_id) AND (p.is_private = true))))) OR ((auth.uid() IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM profile_follows pf
          WHERE ((pf.follower_id = auth.uid()) AND (pf.following_id = c.user_id))))))) OR ((c.visibility = 'followers'::visibility_type) AND (auth.uid() IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM profile_follows pf
          WHERE ((pf.follower_id = auth.uid()) AND (pf.following_id = c.user_id))))))))))))",
catch_comments,UPDATE,catch_comments_update_owner,PERMISSIVE,{public},f,(auth.uid() = user_id),(auth.uid() = user_id)
catch_reactions,ALL,catch_reactions_owner_all,PERMISSIVE,{public},f,(auth.uid() = user_id),(auth.uid() = user_id)
catch_reactions,SELECT,catch_reactions_select_viewable,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = catch_reactions.catch_id) AND (c.deleted_at IS NULL) AND ((c.user_id = auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND (auth.uid() IS NOT NULL) AND is_following(auth.uid(), c.user_id)) OR is_admin(auth.uid())))))",
catch_reactions,INSERT,catch_reactions_write_visible_unblocked_ins,RESTRICTIVE,{authenticated},f,,"((auth.uid() IS NOT NULL) AND (user_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = catch_reactions.catch_id) AND (c.deleted_at IS NULL) AND (NOT is_blocked_either_way(auth.uid(), c.user_id)) AND (c.user_id <> auth.uid()) AND (is_admin(auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND is_following(auth.uid(), c.user_id)))))))"
catch_reactions,UPDATE,catch_reactions_write_visible_unblocked_upd,RESTRICTIVE,{authenticated},f,"((auth.uid() IS NOT NULL) AND (user_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = catch_reactions.catch_id) AND (c.deleted_at IS NULL) AND (NOT is_blocked_either_way(auth.uid(), c.user_id)) AND (c.user_id <> auth.uid()) AND (is_admin(auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND is_following(auth.uid(), c.user_id)))))))",
catches,SELECT,catches_admin_read_all,PERMISSIVE,{public},f,is_admin(auth.uid()),
catches,SELECT,catches_owner_all,PERMISSIVE,{public},f,((( SELECT auth.uid() AS uid) = user_id) AND (deleted_at IS NULL)),
catches,INSERT,catches_owner_mutate,PERMISSIVE,{public},f,,((auth.uid() = user_id) AND (NOT is_admin(auth.uid())))
catches,UPDATE,catches_owner_update_delete,PERMISSIVE,{public},f,((auth.uid() = user_id) AND (NOT is_admin(auth.uid()))),((auth.uid() = user_id) AND (NOT is_admin(auth.uid())))
catches,SELECT,catches_public_read,PERMISSIVE,{public},f,"((deleted_at IS NULL) AND ((auth.uid() = user_id) OR (EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid()))) OR ((COALESCE(is_blocked_either_way(auth.uid(), user_id), false) = false) AND (((visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1
   FROM profiles p
  WHERE ((p.id = catches.user_id) AND (p.is_private = true))))) OR ((auth.uid() IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM profile_follows pf
  WHERE ((pf.follower_id = auth.uid()) AND (pf.following_id = catches.user_id))))))) OR ((visibility = 'followers'::visibility_type) AND (auth.uid() IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM profile_follows pf
  WHERE ((pf.follower_id = auth.uid()) AND (pf.following_id = catches.user_id)))))))))",
moderation_log,SELECT,moderation_log_admin_read,PERMISSIVE,{public},f,is_admin(auth.uid()),
notifications,SELECT,notifications_admin_read,PERMISSIVE,{public},f,is_admin(auth.uid()),
notifications,ALL,notifications_recipient_only,PERMISSIVE,{public},f,(auth.uid() = user_id),(auth.uid() = user_id)
profile_blocks,DELETE,profile_blocks_delete_admin_all,PERMISSIVE,{authenticated},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = ( SELECT auth.uid() AS uid))))",
profile_blocks,DELETE,profile_blocks_delete_self,PERMISSIVE,{authenticated},f,(( SELECT auth.uid() AS uid) = blocker_id),
profile_blocks,INSERT,profile_blocks_insert_admin_all,PERMISSIVE,{authenticated},f,,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = ( SELECT auth.uid() AS uid))))"
profile_blocks,INSERT,profile_blocks_insert_self,PERMISSIVE,{authenticated},f,,(( SELECT auth.uid() AS uid) = blocker_id)
profile_blocks,SELECT,profile_blocks_select_admin_all,PERMISSIVE,{authenticated},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = ( SELECT auth.uid() AS uid))))",
profile_blocks,SELECT,profile_blocks_select_self_or_blocked,PERMISSIVE,{authenticated},f,((( SELECT auth.uid() AS uid) = blocker_id) OR (( SELECT auth.uid() AS uid) = blocked_id)),
profile_follows,SELECT,profile_follows_admin_select_all,PERMISSIVE,{public},f,is_admin(auth.uid()),
profile_follows,INSERT,profile_follows_insert_not_blocked,RESTRICTIVE,{authenticated},f,,"((auth.uid() = follower_id) AND (following_id <> auth.uid()) AND (NOT is_blocked_either_way(auth.uid(), following_id)))"
profile_follows,ALL,profile_follows_owner_all,PERMISSIVE,{public},f,(auth.uid() = follower_id),(auth.uid() = follower_id)
profile_follows,SELECT,profile_follows_select_related,PERMISSIVE,{public},f,((auth.uid() = follower_id) OR (auth.uid() = following_id)),
profiles,UPDATE,profiles_update_self,PERMISSIVE,{authenticated},f,(( SELECT auth.uid() AS uid) = id),(( SELECT auth.uid() AS uid) = id)
rate_limits,SELECT,rate_limits_admin_select,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))",
rate_limits,INSERT,rate_limits_self_insert,PERMISSIVE,{authenticated},f,,(auth.uid() = user_id)
ratings,ALL,ratings_owner_mutate,PERMISSIVE,{public},f,(auth.uid() = user_id),(auth.uid() = user_id)
ratings,SELECT,ratings_read_visible_catches,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = ratings.catch_id) AND (c.deleted_at IS NULL) AND (is_admin(auth.uid()) OR (c.user_id = auth.uid()) OR ((auth.uid() IS NULL) AND (c.visibility = 'public'::visibility_type)) OR ((auth.uid() IS NOT NULL) AND (NOT is_admin(auth.uid())) AND ((c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND is_following(auth.uid(), c.user_id))))))))",
ratings,INSERT,ratings_write_visible_unblocked_ins,RESTRICTIVE,{authenticated},f,,"((auth.uid() IS NOT NULL) AND (user_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = ratings.catch_id) AND (c.deleted_at IS NULL) AND (c.allow_ratings IS TRUE) AND (NOT is_blocked_either_way(auth.uid(), c.user_id)) AND (c.user_id <> auth.uid()) AND (is_admin(auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND is_following(auth.uid(), c.user_id)))))))"
ratings,UPDATE,ratings_write_visible_unblocked_upd,RESTRICTIVE,{authenticated},f,"((auth.uid() IS NOT NULL) AND (user_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM catches c
  WHERE ((c.id = ratings.catch_id) AND (c.deleted_at IS NULL) AND (c.allow_ratings IS TRUE) AND (NOT is_blocked_either_way(auth.uid(), c.user_id)) AND (c.user_id <> auth.uid()) AND (is_admin(auth.uid()) OR (c.visibility = 'public'::visibility_type) OR ((c.visibility = 'followers'::visibility_type) AND is_following(auth.uid(), c.user_id)))))))",
reports,ALL,reports_admin_all,PERMISSIVE,{public},f,is_admin(auth.uid()),is_admin(auth.uid())
reports,ALL,reports_owner_all,PERMISSIVE,{public},f,(auth.uid() = reporter_id),(auth.uid() = reporter_id)
sessions,ALL,sessions_modify_own,PERMISSIVE,{public},f,(auth.uid() = user_id),(auth.uid() = user_id)
sessions,SELECT,sessions_select_own,PERMISSIVE,{public},f,(auth.uid() = user_id),
user_warnings,SELECT,user_warnings_admin_read,PERMISSIVE,{public},f,is_admin(auth.uid()),
venue_owners,ALL,venue_owners_admin_all,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))","(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))"
venue_owners,SELECT,venue_owners_self_select,PERMISSIVE,{public},f,(auth.uid() = user_id),
venue_ratings,SELECT,Admins can select all venue ratings,PERMISSIVE,{public},f,is_admin(auth.uid()),
venue_ratings,DELETE,Allow users to delete own venue ratings,PERMISSIVE,{public},f,(user_id = auth.uid()),
venue_ratings,INSERT,Allow users to insert own venue ratings,PERMISSIVE,{public},f,,(user_id = auth.uid())
venue_ratings,SELECT,Allow users to select own venue ratings,PERMISSIVE,{public},f,(user_id = auth.uid()),
venue_ratings,UPDATE,Allow users to update own venue ratings,PERMISSIVE,{public},f,(user_id = auth.uid()),
venues,INSERT,venues_insert_admin_only,PERMISSIVE,{public},f,,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))"
venues,SELECT,venues_select_admin_all,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))",
venues,SELECT,venues_select_owner,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM venue_owners vo
  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = auth.uid()))))",
venues,UPDATE,venues_update_admin_all,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))","(EXISTS ( SELECT 1
   FROM admin_users au
  WHERE (au.user_id = auth.uid())))"
venues,UPDATE,venues_update_owner,PERMISSIVE,{public},f,"(EXISTS ( SELECT 1
   FROM venue_owners vo
  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM venue_owners vo
  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = auth.uid()))))"
