67_MULTIPLE_PERMISSIVE_POLICIES_BREAKDOWN.sql
[
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_read_all,catch_comments_public_read}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_read_all,catch_comments_public_read}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_read_all,catch_comments_public_read}",
    "roles": "{public}",
    "policyname": "catch_comments_admin_read_all",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_read_all,catch_comments_public_read}",
    "roles": "{public}",
    "policyname": "catch_comments_public_read",
    "permissive": "PERMISSIVE",
    "qual": "((deleted_at IS NULL) AND (EXISTS ( SELECT 1\n   FROM catches c\n  WHERE ((c.id = catch_comments.catch_id) AND (c.deleted_at IS NULL) AND ((uid() = c.user_id) OR (EXISTS ( SELECT 1\n           FROM admin_users au\n          WHERE (au.user_id = uid()))) OR ((NOT is_blocked_either_way(uid(), c.user_id)) AND (NOT is_blocked_either_way(uid(), catch_comments.user_id)) AND (((c.visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1\n           FROM profiles p\n          WHERE ((p.id = c.user_id) AND (p.is_private = true))))) OR ((uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM profile_follows pf\n          WHERE ((pf.follower_id = uid()) AND (pf.following_id = c.user_id))))))) OR ((c.visibility = 'followers'::visibility_type) AND (uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM profile_follows pf\n          WHERE ((pf.follower_id = uid()) AND (pf.following_id = c.user_id))))))))))))",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_update,catch_comments_update_owner}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_update,catch_comments_update_owner}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_update,catch_comments_update_owner}",
    "roles": "{public}",
    "policyname": "catch_comments_admin_update",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": "is_admin(uid())"
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catch_comments",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{catch_comments_admin_update,catch_comments_update_owner}",
    "roles": "{public}",
    "policyname": "catch_comments_update_owner",
    "permissive": "PERMISSIVE",
    "qual": "(uid() = user_id)",
    "with_check": "(uid() = user_id)"
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "catches",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{catches_admin_read_all,catches_owner_all,catches_public_read}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "catches",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{catches_admin_read_all,catches_owner_all,catches_public_read}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catches",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{catches_admin_read_all,catches_owner_all,catches_public_read}",
    "roles": "{public}",
    "policyname": "catches_admin_read_all",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catches",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{catches_admin_read_all,catches_owner_all,catches_public_read}",
    "roles": "{public}",
    "policyname": "catches_owner_all",
    "permissive": "PERMISSIVE",
    "qual": "((( SELECT uid() AS uid) = user_id) AND (deleted_at IS NULL))",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "catches",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{catches_admin_read_all,catches_owner_all,catches_public_read}",
    "roles": "{public}",
    "policyname": "catches_public_read",
    "permissive": "PERMISSIVE",
    "qual": "((deleted_at IS NULL) AND ((uid() = user_id) OR (EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = uid()))) OR ((COALESCE(is_blocked_either_way(uid(), user_id), false) = false) AND (((visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = catches.user_id) AND (p.is_private = true))))) OR ((uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM profile_follows pf\n  WHERE ((pf.follower_id = uid()) AND (pf.following_id = catches.user_id))))))) OR ((visibility = 'followers'::visibility_type) AND (uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM profile_follows pf\n  WHERE ((pf.follower_id = uid()) AND (pf.following_id = catches.user_id)))))))))",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "DELETE",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_delete_admin_all,profile_blocks_delete_self}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "DELETE",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_delete_admin_all,profile_blocks_delete_self}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "DELETE",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_delete_admin_all,profile_blocks_delete_self}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_delete_admin_all",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "DELETE",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_delete_admin_all,profile_blocks_delete_self}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_delete_self",
    "permissive": "PERMISSIVE",
    "qual": "(( SELECT uid() AS uid) = blocker_id)",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "INSERT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_insert_admin_all,profile_blocks_insert_self}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "INSERT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_insert_admin_all,profile_blocks_insert_self}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "INSERT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_insert_admin_all,profile_blocks_insert_self}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_insert_admin_all",
    "permissive": "PERMISSIVE",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))"
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "INSERT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_insert_admin_all,profile_blocks_insert_self}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_insert_self",
    "permissive": "PERMISSIVE",
    "qual": null,
    "with_check": "(( SELECT uid() AS uid) = blocker_id)"
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_select_admin_all,profile_blocks_select_self_or_blocked}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_select_admin_all,profile_blocks_select_self_or_blocked}",
    "roles": "{authenticated}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_select_admin_all,profile_blocks_select_self_or_blocked}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_select_admin_all",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_blocks",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_blocks_select_admin_all,profile_blocks_select_self_or_blocked}",
    "roles": "{authenticated}",
    "policyname": "profile_blocks_select_self_or_blocked",
    "permissive": "PERMISSIVE",
    "qual": "((( SELECT uid() AS uid) = blocker_id) OR (( SELECT uid() AS uid) = blocked_id))",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "profile_follows",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_follows_admin_select_all,profile_follows_select_related}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "profile_follows",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_follows_admin_select_all,profile_follows_select_related}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_follows",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_follows_admin_select_all,profile_follows_select_related}",
    "roles": "{public}",
    "policyname": "profile_follows_admin_select_all",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "profile_follows",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{profile_follows_admin_select_all,profile_follows_select_related}",
    "roles": "{public}",
    "policyname": "profile_follows_select_related",
    "permissive": "PERMISSIVE",
    "qual": "((uid() = follower_id) OR (uid() = following_id))",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "reports",
    "cmd": "ALL",
    "permissive_policy_count": 2,
    "policy_names": "{reports_admin_all,reports_owner_all}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "reports",
    "cmd": "ALL",
    "permissive_policy_count": 2,
    "policy_names": "{reports_admin_all,reports_owner_all}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "reports",
    "cmd": "ALL",
    "permissive_policy_count": 2,
    "policy_names": "{reports_admin_all,reports_owner_all}",
    "roles": "{public}",
    "policyname": "reports_admin_all",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": "is_admin(uid())"
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "reports",
    "cmd": "ALL",
    "permissive_policy_count": 2,
    "policy_names": "{reports_admin_all,reports_owner_all}",
    "roles": "{public}",
    "policyname": "reports_owner_all",
    "permissive": "PERMISSIVE",
    "qual": "(uid() = reporter_id)",
    "with_check": "(uid() = reporter_id)"
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "venue_ratings",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{\"Admins can select all venue ratings\",\"Allow users to select own venue ratings\"}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "venue_ratings",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{\"Admins can select all venue ratings\",\"Allow users to select own venue ratings\"}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venue_ratings",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{\"Admins can select all venue ratings\",\"Allow users to select own venue ratings\"}",
    "roles": "{public}",
    "policyname": "Admins can select all venue ratings",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venue_ratings",
    "cmd": "SELECT",
    "permissive_policy_count": 2,
    "policy_names": "{\"Admins can select all venue ratings\",\"Allow users to select own venue ratings\"}",
    "roles": "{public}",
    "policyname": "Allow users to select own venue ratings",
    "permissive": "PERMISSIVE",
    "qual": "(user_id = uid())",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{venues_select_admin_all,venues_select_owner,venues_select_published}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{venues_select_admin_all,venues_select_owner,venues_select_published}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{venues_select_admin_all,venues_select_owner,venues_select_published}",
    "roles": "{public}",
    "policyname": "venues_select_admin_all",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = uid())))",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{venues_select_admin_all,venues_select_owner,venues_select_published}",
    "roles": "{public}",
    "policyname": "venues_select_owner",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM venue_owners vo\n  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = uid()))))",
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "SELECT",
    "permissive_policy_count": 3,
    "policy_names": "{venues_select_admin_all,venues_select_owner,venues_select_published}",
    "roles": "{public}",
    "policyname": "venues_select_published",
    "permissive": "PERMISSIVE",
    "qual": "(is_published = true)",
    "with_check": null
  },
  {
    "record_type": "summary_permissive",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{venues_update_admin_all,venues_update_owner}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "summary_by_role",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{venues_update_admin_all,venues_update_owner}",
    "roles": "{public}",
    "policyname": null,
    "permissive": null,
    "qual": null,
    "with_check": null
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{venues_update_admin_all,venues_update_owner}",
    "roles": "{public}",
    "policyname": "venues_update_admin_all",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = uid())))",
    "with_check": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = uid())))"
  },
  {
    "record_type": "detail_all_policies",
    "schema_name": "public",
    "table_name": "venues",
    "cmd": "UPDATE",
    "permissive_policy_count": 2,
    "policy_names": "{venues_update_admin_all,venues_update_owner}",
    "roles": "{public}",
    "policyname": "venues_update_owner",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM venue_owners vo\n  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = uid()))))",
    "with_check": "(EXISTS ( SELECT 1\n   FROM venue_owners vo\n  WHERE ((vo.venue_id = venues.id) AND (vo.user_id = uid()))))"
  }
]
70_0006_catch_comments_SELECT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null,
    "policy_text": "is_admin(uid()) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "((deleted_at IS NULL) AND (EXISTS ( SELECT 1\n   FROM catches c\n  WHERE ((c.id = catch_comments.catch_id) AND (c.deleted_at IS NULL) AND ((uid() = c.user_id) OR (EXISTS ( SELECT 1\n           FROM admin_users au\n          WHERE (au.user_id = uid()))) OR ((NOT is_blocked_either_way(uid(), c.user_id)) AND (NOT is_blocked_either_way(uid(), catch_comments.user_id)) AND (((c.visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1\n           FROM profiles p\n          WHERE ((p.id = c.user_id) AND (p.is_private = true))))) OR ((uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM profile_follows pf\n          WHERE ((pf.follower_id = uid()) AND (pf.following_id = c.user_id))))))) OR ((c.visibility = 'followers'::visibility_type) AND (uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM profile_follows pf\n          WHERE ((pf.follower_id = uid()) AND (pf.following_id = c.user_id))))))))))))",
    "with_check": null,
    "policy_text": "((deleted_at is null) and (exists ( select 1 from catches c where ((c.id = catch_comments.catch_id) and (c.deleted_at is null) and ((uid() = c.user_id) or (exists ( select 1 from admin_users au where (au.user_id = uid()))) or ((not is_blocked_either_way(uid(), c.user_id)) and (not is_blocked_either_way(uid(), catch_comments.user_id)) and (((c.visibility = 'public'::visibility_type) and ((not (exists ( select 1 from profiles p where ((p.id = c.user_id) and (p.is_private = true))))) or ((uid() is not null) and (exists ( select 1 from profile_follows pf where ((pf.follower_id = uid()) and (pf.following_id = c.user_id))))))) or ((c.visibility = 'followers'::visibility_type) and (uid() is not null) and (exists ( select 1 from profile_follows pf where ((pf.follower_id = uid()) and (pf.following_id = c.user_id)))))))))))) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "is_following",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "is_following",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catch_comments_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": true
  }
]

70_0006_catch_comments_UPDATE_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "UPDATE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "UPDATE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "UPDATE",
    "policyname": "catch_comments_admin_update",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": "is_admin(uid())",
    "policy_text": "is_admin(uid()) is_admin(uid())",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "UPDATE",
    "policyname": "catch_comments_update_owner",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "(uid() = user_id)",
    "with_check": "(uid() = user_id)",
    "policy_text": "(uid() = user_id) (uid() = user_id)",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "UPDATE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_admin_update",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_admin_update",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_admin_update",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_update_owner",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_update_owner",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "UPDATE",
    "policyname": "catch_comments_update_owner",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_catches_SELECT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 3,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null,
    "policy_text": "is_admin(uid()) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "((( SELECT uid() AS uid) = user_id) AND (deleted_at IS NULL))",
    "with_check": null,
    "policy_text": "((( select uid() as uid) = user_id) and (deleted_at is null)) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "((deleted_at IS NULL) AND ((uid() = user_id) OR (EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = uid()))) OR ((COALESCE(is_blocked_either_way(uid(), user_id), false) = false) AND (((visibility = 'public'::visibility_type) AND ((NOT (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = catches.user_id) AND (p.is_private = true))))) OR ((uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM profile_follows pf\n  WHERE ((pf.follower_id = uid()) AND (pf.following_id = catches.user_id))))))) OR ((visibility = 'followers'::visibility_type) AND (uid() IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM profile_follows pf\n  WHERE ((pf.follower_id = uid()) AND (pf.following_id = catches.user_id)))))))))",
    "with_check": null,
    "policy_text": "((deleted_at is null) and ((uid() = user_id) or (exists ( select 1 from admin_users au where (au.user_id = uid()))) or ((coalesce(is_blocked_either_way(uid(), user_id), false) = false) and (((visibility = 'public'::visibility_type) and ((not (exists ( select 1 from profiles p where ((p.id = catches.user_id) and (p.is_private = true))))) or ((uid() is not null) and (exists ( select 1 from profile_follows pf where ((pf.follower_id = uid()) and (pf.following_id = catches.user_id))))))) or ((visibility = 'followers'::visibility_type) and (uid() is not null) and (exists ( select 1 from profile_follows pf where ((pf.follower_id = uid()) and (pf.following_id = catches.user_id))))))))) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "is_following",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_admin_read_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "is_following",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "deleted_filter",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "is_following",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profile_follows",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "profiles_private",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_followers",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "catches_public_read",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "visibility_public",
    "policy_has": true
  }
]

70_0006_profile_blocks_DELETE_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "DELETE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "DELETE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "authenticated",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))",
    "with_check": null,
    "policy_text": "(exists ( select 1 from admin_users au where (au.user_id = ( select uid() as uid)))) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": "(( SELECT uid() AS uid) = blocker_id)",
    "with_check": null,
    "policy_text": "(( select uid() as uid) = blocker_id) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "DELETE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_users",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "DELETE",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_users",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_users",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "DELETE",
    "policyname": "profile_blocks_delete_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_profile_blocks_INSERT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "INSERT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "INSERT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "authenticated",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_admin_all",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))",
    "policy_text": " (exists ( select 1 from admin_users au where (au.user_id = ( select uid() as uid))))",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_self",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": null,
    "with_check": "(( SELECT uid() AS uid) = blocker_id)",
    "policy_text": " (( select uid() as uid) = blocker_id)",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "INSERT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "INSERT",
    "policyname": "profile_blocks_insert_self",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_profile_blocks_SELECT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "authenticated",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_admin_all",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": "(EXISTS ( SELECT 1\n   FROM admin_users au\n  WHERE (au.user_id = ( SELECT uid() AS uid))))",
    "with_check": null,
    "policy_text": "(exists ( select 1 from admin_users au where (au.user_id = ( select uid() as uid)))) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_self_or_blocked",
    "roles": "{authenticated}",
    "permissive": "PERMISSIVE",
    "qual": "((( SELECT uid() AS uid) = blocker_id) OR (( SELECT uid() AS uid) = blocked_id))",
    "with_check": null,
    "policy_text": "((( select uid() as uid) = blocker_id) or (( select uid() as uid) = blocked_id)) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_self_or_blocked",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_self_or_blocked",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocked_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_self_or_blocked",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "blocker_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_blocks_select_self_or_blocked",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_profile_follows_SELECT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "profile_follows_admin_select_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null,
    "policy_text": "is_admin(uid()) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "profile_follows_select_related",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "((uid() = follower_id) OR (uid() = following_id))",
    "with_check": null,
    "policy_text": "((uid() = follower_id) or (uid() = following_id)) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "follower_id",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "following_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_admin_select_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_admin_select_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "follower_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_admin_select_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "following_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_admin_select_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_select_related",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_select_related",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "follower_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_select_related",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "following_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "profile_follows_select_related",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_reports_ALL_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "ALL",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "ALL",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "ALL",
    "policyname": "reports_admin_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": "is_admin(uid())",
    "policy_text": "is_admin(uid()) is_admin(uid())",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "ALL",
    "policyname": "reports_owner_all",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "(uid() = reporter_id)",
    "with_check": "(uid() = reporter_id)",
    "policy_text": "(uid() = reporter_id) (uid() = reporter_id)",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "ALL",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "ALL",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "reporter_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "reporter_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_admin_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "reporter_id",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "ALL",
    "policyname": "reports_owner_all",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  }
]

70_0006_venue_ratings_SELECT_RELATIONSHIP
[
  {
    "record_type": "analysis",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": true,
    "clean_role_split_guess": false,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "by_role",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": "public",
    "permissive_policy_count": 2,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "Admins can select all venue ratings",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "is_admin(uid())",
    "with_check": null,
    "policy_text": "is_admin(uid()) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "policy",
    "cmd": "SELECT",
    "policyname": "Allow users to select own venue ratings",
    "roles": "{public}",
    "permissive": "PERMISSIVE",
    "qual": "(user_id = uid())",
    "with_check": null,
    "policy_text": "(user_id = uid()) ",
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": null,
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": null
  },
  {
    "record_type": "diff_hint",
    "cmd": "SELECT",
    "policyname": null,
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "user_id",
    "policy_has": null
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Admins can select all venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Admins can select all venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Admins can select all venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "user_id",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Allow users to select own venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "admin_check",
    "policy_has": false
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Allow users to select own venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "uid_call",
    "policy_has": true
  },
  {
    "record_type": "token",
    "cmd": "SELECT",
    "policyname": "Allow users to select own venue ratings",
    "roles": null,
    "permissive": null,
    "qual": null,
    "with_check": null,
    "policy_text": null,
    "role_name": null,
    "permissive_policy_count": null,
    "multiple_permissive_same_role": null,
    "clean_role_split_guess": null,
    "token_name": "user_id",
    "policy_has": true
  }
]